[{"/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/index.js":"1","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/App.js":"2","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/serviceWorker.js":"3","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/editSensor.js":"4","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/view.js":"5","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/sensorsList.js":"6","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/protectedRoute.js":"7","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/navigation.js":"8","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/auth/login.js":"9","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/auth/myAccount.js":"10"},{"size":637,"mtime":1613038558672,"results":"11","hashOfConfig":"12"},{"size":1689,"mtime":1613038558565,"results":"13","hashOfConfig":"12"},{"size":4951,"mtime":1612870322070,"results":"14","hashOfConfig":"12"},{"size":5129,"mtime":1613038620036,"results":"15","hashOfConfig":"12"},{"size":2673,"mtime":1612870322065,"results":"16","hashOfConfig":"12"},{"size":3108,"mtime":1613659187410,"results":"17","hashOfConfig":"12"},{"size":530,"mtime":1612870322063,"results":"18","hashOfConfig":"12"},{"size":1211,"mtime":1613038558568,"results":"19","hashOfConfig":"12"},{"size":2756,"mtime":1613038558566,"results":"20","hashOfConfig":"12"},{"size":1145,"mtime":1613038558566,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"tg6u3u",{"filePath":"25","messages":"26","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"24"},"/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/index.js",[],["49","50"],"/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/App.js",["51","52","53"],"import React from \"react\";\nimport {withCookies} from 'react-cookie';\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./App.css\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\n// import AddSensor from \"./components/addSensor\";\nimport EditSensor from \"./components/editSensor\";\nimport SensorsList from \"./components/sensorsList\";\nimport View from \"./components/view\";\nimport Login from \"./auth/login\";\nimport Navigation from './components/navigation';\nimport ProtectedRoute from './components/protectedRoute'\nimport axios from \"axios\";\n\n\nfunction App(props) {\n\n  const userLoggedIn = props.allCookies.userLoggedIn;\n  return (<Router>\n    <div className=\"App\">\n      <Navigation userLoggedIn={userLoggedIn}/>\n\n      <Container>\n        <Row>\n          <Col md={12}>\n            <div className=\"wrapper\">\n              <Switch>\n                <Route exact path='/' component={View} />\n                <Route exact path=\"/edit-sensor/:id\" component={EditSensor} />\n                <Route exact path=\"/sensors-list\"  render={() => (<SensorsList userLoggedIn={props.allCookies.userLoggedIn}/>)} />\n                <Route exact path=\"/login\" component={Login} />\n                {/* <Route exact path=\"/login\"\n                 component={() => <Login onLoginSuccess={handleLogin} />} /> */}\n                {/* <Route exact path=\"/add-sensor\" component={AddSensor} /> */}\n              </Switch>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  </Router>);\n}\n\nexport default withCookies(App);\n","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/serviceWorker.js",[],"/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/editSensor.js",["54"],"import React, { Component } from \"react\";\nimport { Form, Button, Alert } from 'react-bootstrap'\nimport axios from 'axios';\n\nexport default class EditSensor extends Component {\n\n  constructor(props) {\n    super(props)\n\n\n    this.onChangeSensorName = this.onChangeSensorName.bind(this);\n    this.onChangeSensorType = this.onChangeSensorType.bind(this);\n    this.onChangeSensorSnowDepthLimit = this.onChangeSensorSnowDepthLimit.bind(this);\n    this.onChangeSensorBaseValue = this.onChangeSensorBaseValue.bind(this)\n    this.onChangeSensorComment = this.onChangeSensorComment.bind(this)\n    this.onChangeSensorAdminStatus = this.onChangeSensorAdminStatus.bind(this)\n    this.onSubmit = this.onSubmit.bind(this);\n\n    // State\n    this.state = {\n      // id: '',\n      name: '',\n      type: '',\n      snowDepthLimit: '',\n      baseValue: '',\n      comment: '',\n      adminStatus: '',\n      message: '',\n      loading: false\n    }\n  }\n\n  componentDidMount() {\n    // console.log(this.props)\n    axios.get('/sensors/' + this.props.match.params.id)\n\n      .then(res => {\n        console.log(res.data)\n        this.setState({\n          // id: res.data.id, \n          name: res.data.name,\n          type: res.data.type,\n          snowDepthLimit: res.data.snowDepthLimit,\n          baseValue: res.data.baseValue,\n          comment: res.data.comment,\n          adminStatus: res.data.adminStatus\n        });\n\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  onChangeSensorName(e) {\n    this.setState({ name: e.target.value })\n  }\n\n  onChangeSensorType(e) {\n    this.setState({ type: e.target.value })\n  }\n\n  onChangeSensorSnowDepthLimit(e) {\n    this.setState({ snowDepthLimit: e.target.value })\n  }\n\n  onChangeSensorBaseValue(e) {\n    this.setState({ baseValue: e.target.value })\n  }\n\n  onChangeSensorComment(e) {\n    this.setState({ comment: e.target.value })\n  }\n\n  onChangeSensorAdminStatus(e) {\n    this.setState({ adminStatus: e.target.value })\n  }\n\n  onSubmit(e) {\n\n    try {\n      const sensorObject = {\n        // id: this.state.id,\n        name: this.state.name,\n        type: this.state.type,\n        snowDepthLimit: this.state.snowDepthLimit,\n        baseValue: this.state.baseValue,\n        comment: this.state.comment,\n        adminStatus: this.state.adminStatus\n      };\n\n      const item = {\n        id: this.state.id,\n        name: this.state.name,\n        snowDepth: 0,\n        time:0\n      };\n\n      this.setState({\n        message: 'Sensor Successfully Updated',\n        loading: true\n      })\n\n      axios.put('/sensors/' + this.props.match.params.id, sensorObject)\n        .then((res) => {\n          console.log(res)\n          console.log('Sensor successfully updated')\n          this.props.history.push('/sensors-list')\n        }).catch((error) => {\n          console.log(error)\n        })\n\n        // axios.post('/view/sendEmail/' + this.props.match.params.id, item)\n        // .then((res) => {\n        //   console.log(res)\n        //   console.log('Send email')\n        // }).catch((error) => {\n        //   console.log(error)\n        // })\n\n      // Redirect to Sensor List\n      e.preventDefault()\n    } catch {\n      this.setState({ message: 'Error: Sensor is not Updated' })\n    }\n    this.setState({ loading: false })\n\n  }\n\n\n  render() {\n    return (<div className=\"form-wrapper\">\n       <h2 className='text-center mb-4'>Update Sensor</h2>\n      {this.state.message && <Alert variant='danger'>{this.state.message}</Alert>}\n      <Form onSubmit={this.onSubmit}>\n        {/* <Form.Group controlId=\"Name\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control type=\"text\" value={this.state.name} onChange={this.onChangeSensorName} required />\n        </Form.Group>\n\n        <Form.Group controlId=\"Type\">\n          <Form.Label>Type</Form.Label>\n          <Form.Control type=\"text\" value={this.state.type} onChange={this.onChangeSensorType} required />\n        </Form.Group> */}\n\n        {/* <Form.Group controlId=\"SnowDepthLimit\">\n          <Form.Label>SnowDepthLimit</Form.Label>\n          <Form.Control type=\"text\" value={this.state.snowDepthLimit} onChange={this.onChangeSensorSnowDepthLimit} required />\n        </Form.Group>\n\n        <Form.Group controlId=\"BaseValue\">\n          <Form.Label>BaseValue</Form.Label>\n          <Form.Control type=\"text\" value={this.state.baseValue} onChange={this.onChangeSensorBaseValue} required />\n        </Form.Group> */}\n\n        <Form.Group controlId=\"Comment\">\n          <Form.Label>Comment</Form.Label>\n          <Form.Control type=\"text\" value={this.state.comment} onChange={this.onChangeSensorComment} required />\n        </Form.Group>\n\n        <Form.Group controlId=\"AdminStatus\">\n          <Form.Label>Status</Form.Label>\n          <Form.Control as=\"select\" value={this.state.adminStatus} onChange={this.onChangeSensorAdminStatus}>\n          <option></option>\n          <option>Opened</option>\n          <option>Closed</option>\n            </Form.Control> \n        </Form.Group>\n\n        <Button variant=\"danger\" size=\"lg\" block=\"block\" type=\"submit\">\n          Update Sensor\n        </Button>\n      </Form>\n    </div>);\n  }\n}\n","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/view.js",["55"],"import React, { Component } from \"react\";\n// import {Link} from 'react-router-dom'\nimport axios from 'axios';\n// import Table from 'react-bootstrap/Table';\n// import sensorTableRow from './sensorTableRow';\n\n\nclass View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      view: []\n    };\n  }\n\n  \n  componentDidMount() {\n    fetch(\"/view\")\n      .then(res => res.json())\n      .then(\n        (data) => {\n            console.log(data)\n          this.setState({\n            isLoaded: true,\n            view: data,\n            \n          });\n        },\n        \n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\n\n  // componentDidUpdate() {\n  //   fetch(\"/view\")\n  //     .then(res => res.json())\n  //     .then(\n  //       (data) => {\n  //           console.log(data)\n            \n  //         this.setState({\n  //           isLoaded: true,\n  //           view: data,\n            \n  //         });\n  //       },\n        \n  //       (error) => {\n  //         this.setState({\n  //           isLoaded: true,\n  //           error\n  //         });\n  //       }\n  //     )\n  // }\n\n \n\n  render() {\n    const { error, isLoaded, view } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n      <>\n        <h2>Senors Summary</h2> \n        <div style={{overflowX:\"auto\"}}> \n        {view.length > 0 &&\n        <table id='sensorsList' className=\"table table-striped table-borderless\">\n          <thead className=\"thead-light\">\n            <tr>\n              \n            <th>Status</th>\n            <th>Idrottsplats</th>\n            <th>Plan</th>\n            <th>Sn√∂djup</th>\n            <th>Comment</th>\n            <th>Temperature</th>\n            </tr>\n          </thead>\n          <tbody>\n          {view.map(item => (\n                  <tr key={item.Id}>\n                      {item.Status === 'Opened' &&\n                      <td className = 'opened'>{item.Status}</td>}\n                       {item.Status === 'Closed' &&\n                      <td className = 'closed'>{item.Status}</td>}\n                    <td>{item.Name}</td>\n              <td>{item.Type}</td>\n              <td>{item.SnowDepth+\"mm\"}</td>\n              <td>{item.Comment}</td>\n              <td>{item.Temperature}</td>\n              \n              \n                  </tr>\n                ))}\n          \n          </tbody>\n        </table>\n    }\n        </div>\n        \n       </>\n       \n      );\n    }\n  }\n}\n \n\n\nexport default View;\n","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/sensorsList.js",[],"/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/protectedRoute.js",["56","57"],"import React from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\n\nfunction privateRoute({ component: Component, ...rest }) {\n\n  let isLogin = true\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLogin ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport default privateRoute","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/components/navigation.js",[],"/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/auth/login.js",["58"],"import React from 'react'\nimport {useState} from 'react';\nimport axios from 'axios';\nimport {useHistory} from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\n\naxios.defaults.withCredentials = true;\n const Login = () => {\n   const [cookies, setCookie] = useCookies(['userLoggedIn']);\n     \n    let history = useHistory();\n    const[user , setUser] = useState({\n        email : \"\" ,\n        password : \"\" ,\n       \n    });\n    const[messageObject , setmessageObject] = useState({\n\n        message : \"\" ,\n       \n    });\n    const{email , password } = user ;\n\n    const{ message } = messageObject ;\n\n    const onInputChange = (e) =>\n    {\n        setUser({...user,[e.target.name] : e.target.value})\n    };\n\n    \n    \n    const onSubmit = async (event) => {\n        event.preventDefault();\n        await  axios.post(\"/users/login\",user)    \n        .then(function (response) {\n            // handle success   \n            console.log(response.config.data);          \n            setmessageObject(response.data);\n            \n            if(response.status === 202)  {\n              setCookie('userLoggedIn', true);\n              history.push(\"/sensors-list\");\n            }\n            \n          })\n        .catch(function (error) {\n          setCookie('userLoggedIn', false);\n            console.log(error);\n          });\n          \n          //\n    };\n    \n    const someStyle = {\n        width: \"30em\",\n       \n    };\n    const someStyle1 = {\n        color: \"red\"\n      }\n    return (\n        <>\n        <h2 style = {{textAlign:'center'}}>Log In</h2>\n        <div style= {{display: 'flex',\n            justifyContent: 'center',\n            marginTop:'2%'}}>\n            \n            <form onSubmit = {e => onSubmit(e)}>\n                <div className=\"form-group\">\n                <label htmlFor=\"email\">Email:</label>\n                <input \n                style={someStyle}\n                value={email} \n                onChange = {(event) => onInputChange(event)} \n                type=\"email\" className=\"form-control\" name=\"email\" placeholder=\"Enter email\" />\n                </div>\n                <div className=\"form-group\">\n                <label htmlFor=\"pwd\">Password:</label>\n                <input\n                style={someStyle}\n                value={password} \n                onChange = {(event) => onInputChange(event)} \n                type=\"password\" className=\"form-control\" name=\"password\" placeholder=\"Enter password\" />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary btn-block\" style={someStyle}>Submit</button>\n                <hr/>\n                <div style={someStyle1}><b>{message}</b></div>\n            </form>\n        </div>\n        </>\n    )\n}\nexport default Login\n","/Users/sdonose/Desktop/pr/snowdepth-auth/client/src/auth/myAccount.js",["59"],"import React, {useEffect, useState} from \"react\";\nimport {useCookies, withCookies} from 'react-cookie';\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\n\nfunction MyAccount(props) {\n  const [cookies, setCookie] = useCookies(['userLoggedIn']);\n  const [loggedIn, setLoggedIn] = useState(props?.userLoggedIn);\n  useEffect(() => {\n      setLoggedIn(props?.userLoggedIn)\n  }, [props?.userLoggedIn]) // T\n\n  const handleLogOut = async() => {\n    await  axios.get(\"/users/logout\", '')\n      .then(response => {\n        setCookie('userLoggedIn', false);\n      }).catch(function (error) {\n        console.log(error);\n        setCookie('userLoggedIn', false);\n      });\n  }\n  return (<div>\n                {loggedIn === 'true' ?\n                  (<Link to={\"/\"} className=\"nav-link\" onClick={handleLogOut}>\n                    LogOut\n                  </Link>)\n                  :\n                  (<Link to={\"/login\"} className=\"nav-link\">\n                    Login\n                  </Link>)\n                }\n                  </div>\n      );\n}\n\nexport default withCookies(MyAccount);\n",{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":9,"column":50,"nodeType":"66","messageId":"67","endLine":9,"endColumn":54},{"ruleId":"64","severity":1,"message":"68","line":17,"column":8,"nodeType":"66","messageId":"67","endLine":17,"endColumn":22},{"ruleId":"64","severity":1,"message":"69","line":18,"column":8,"nodeType":"66","messageId":"67","endLine":18,"endColumn":13},{"ruleId":"64","severity":1,"message":"70","line":92,"column":13,"nodeType":"66","messageId":"67","endLine":92,"endColumn":17},{"ruleId":"64","severity":1,"message":"69","line":3,"column":8,"nodeType":"66","messageId":"67","endLine":3,"endColumn":13},{"ruleId":"64","severity":1,"message":"71","line":2,"column":27,"nodeType":"66","messageId":"67","endLine":2,"endColumn":33},{"ruleId":"64","severity":1,"message":"72","line":2,"column":35,"nodeType":"66","messageId":"67","endLine":2,"endColumn":41},{"ruleId":"64","severity":1,"message":"73","line":9,"column":11,"nodeType":"66","messageId":"67","endLine":9,"endColumn":18},{"ruleId":"64","severity":1,"message":"73","line":10,"column":10,"nodeType":"66","messageId":"67","endLine":10,"endColumn":17},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'ProtectedRoute' is defined but never used.","'axios' is defined but never used.","'item' is assigned a value but never used.","'Router' is defined but never used.","'Switch' is defined but never used.","'cookies' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]